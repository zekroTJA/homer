import{_ as h,o as a,b as n,a as i,n as o,e as l,t as r}from"./index.750fb093.js";const m={name:"OpenWeather",props:{item:Object},data:()=>({id:null,icon:null,name:null,temp:null,conditions:null,error:!1}),computed:{temperature:function(){if(!this.temp)return"";let t="K";return this.item.units==="metric"?t="\xB0C":this.item.units==="imperial"&&(t="\xB0F"),`${this.temp} ${t}`}},created(){this.fetchWeather()},methods:{fetchWeather:async function(){let t;this.item.locationId?t=`id=${this.item.locationId}`:t=`q=${this.item.location}`;const c=this.item.apikey||this.item.apiKey,s=`https://api.openweathermap.org/data/2.5/weather?${t}&appid=${c}&units=${this.item.units}`;fetch(s).then(e=>{if(!e.ok)throw Error(e.statusText);return e.json()}).then(e=>{this.id=e.id,this.name=e.name,this.temp=parseInt(e.main.temp).toFixed(1),this.icon=e.weather[0].icon,this.conditions=e.weather[0].description}).catch(e=>{console.log(e),this.error=!0})}}},u=["href","target"],_={class:"card-content"},p={class:"media"},f={class:"image is-48x48"},g=["src","alt","title"],v={class:"media-content"},y={key:0,class:"error"},k={key:1},b={class:"title is-4"},$={class:"subtitle is-6"},W={class:"tag-text"};function w(t,c,s,e,I,d){return a(),n("div",null,[i("div",{class:o(["card",s.item.class])},[i("a",{href:`https://openweathermap.org/city/${t.id}`,target:s.item.target,rel:"noreferrer"},[i("div",_,[i("div",p,[t.icon?(a(),n("div",{key:0,class:o(["media-left",s.item.background])},[i("figure",f,[i("img",{src:`https://openweathermap.org/img/wn/${t.icon}@2x.png`,alt:t.conditions,title:t.conditions},null,8,g)])],2)):l("",!0),i("div",v,[t.error?(a(),n("p",y,"Data could not be retrieved")):(a(),n("div",k,[i("p",b,r(t.name),1),i("p",$,r(d.temperature),1)]))])]),s.item.tag?(a(),n("div",{key:0,class:o(["tag",s.item.tagstyle])},[i("strong",W,"#"+r(s.item.tag),1)],2)):l("",!0)])],8,u)],2)])}var B=h(m,[["render",w],["__scopeId","data-v-7e8085b0"]]);export{B as default};
