var d={props:{proxy:Object},created:function(){this.endpoint=this.item.endpoint||this.item.url,this.endpoint.endsWith("/")&&(this.endpoint=this.endpoint.slice(0,-1))},methods:{fetch:function(e,r,o=!0){var s;let t={};(s=this.proxy)!=null&&s.useCredentials&&(t.credentials="include"),this.item.useCredentials!==void 0&&(t.credentials=this.item.useCredentials===!0?"include":"omit"),t=Object.assign(t,r),e.startsWith("/")&&(e=e.slice(1));let n=this.endpoint;return e&&(n=`${this.endpoint}/${e}`),fetch(n,t).then(i=>{if(!i.ok)throw new Error("Not 2xx response");return o?i.json():i})}}};export{d as s};
